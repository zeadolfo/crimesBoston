pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(4, 0, 0), seasonal = c(1, 1, 0, period = 7), transform.pars = F, fixed = c(NA,NA,NA,NA,NA))
modelo2
AIC(modelo)
modelo2 <- arima(x = cons, order = c(1, 0, 0), seasonal = c(1, 1, 0, period = 7), transform.pars = F, fixed = c(NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(1, 0, 0), seasonal = c(1, 0, 0, period = 7), transform.pars = F, fixed = c(NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(1, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(2, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(2, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(2, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,NA,NA,NA))
modelo2
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(2, 0, 1, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(2, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,NA,NA,NA))
modelo2
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(2, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(12, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(19, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(19, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(20, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA,NA,NA))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(3, 0, 1), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 1), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,0,NA,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 1), seasonal = c(3, 0, 0, period = 7), transform.pars = F, fixed = c(NA,NA,0,NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(3, 0, 1), seasonal = c(3, 0, 0, period = 7), transform.pars = T)
modelo2
modelo2 <- arima(x = cons, order = c(2, 0, 1), seasonal = c(3, 0, 0, period = 7), transform.pars = T, fixed = c(NA, NA, NA,NA,NA,NA,NA))
modelo2
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = c(3, 0, 0, period = 7), transform.pars = T, fixed = c(NA, NA,NA,NA,NA,NA))
modelo2
modelo2 <- arima(x = cons, order = c(2, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = T, fixed = c(NA, NA,NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(2, 0, 0), seasonal = c(3, 0, 0, period = 7), transform.pars = T, fixed = c(NA, NA,NA,NA,NA))
modelo2 <- arima(x = cons, order = c(2, 0, 0), seasonal = c(3, 0, 0, period = 7))
modelo2
1178/539
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(3, 0, 0), seasonal = c(3, 0, 0, period = 7))
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = c(3, 0, 0, period = 7))
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = c(1, 0, 0, period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
dados$consumo[c(364, 365)] - predict(modelo2, n.ahead = 2)$pred
dados$consumo[c(364, 365)] - predict(modelo, newdata = xreg)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = c(1, 0, 0, period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = c(2, 0, 0, period = 7))
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = c(1, 0, 1, period = 7))
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(1, 0, 1), period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(1, 0, 0), period = 7))
modelo2
acf(modelo2$res)
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(1, 0, 1), period = 7))
modelo2
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(0, 1, 0), period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(1, 1, 1), period = 7))
modelo2
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(0, 1, 1), period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
dados$consumo[c(364, 365)] - predict(modelo2, n.ahead = 2)$pred
dados$consumo[c(364, 365)] - predict(modelo, newdata = xreg)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(0, 1, 1), period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
modelo2 <- arima(x = cons, order = c(1, 0, 1), seasonal = list(order = c(1, 0, 1), period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
dados$consumo[c(364, 365)] - predict(modelo, newdata = xreg)
dados$consumo[c(364, 365)] - predict(modelo2, n.ahead = 2)$pred
modelo2
modelo2
modelo2 <- arima(x = cons, order = c(0, 1, 1), seasonal = list(order = c(1, 0, 1), period = 7))
modelo2
acf(modelo2$res)
pacf(modelo2$res)
acf(modelo2$res)
dados$consumo[c(364, 365)] - predict(modelo2, n.ahead = 2)$pred
dados$consumo[c(364, 365)] - predict(modelo, newdata = xreg)
modelo2 <- arima(x = cons, order = c(0, 1, 1), seasonal = list(order = c(1, 0, 1), period = 7))
modelo2
dados$consumo[c(356: 365)] - predict(modelo, newdata = xreg)
dados$consumo[c(356:365)] - predict(modelo2, n.ahead = 2)$pred
dados$consumo[c(356:365)] - predict(modelo2, n.ahead = 10)$pred
mean((dados$consumo[c(356:365)] - predict(modelo2, n.ahead = 10)$pred)^2)
mean((dados$consumo[c(356: 365)] - predict(modelo, newdata = xreg))^2)
modelo2
modelo3 <- arima(x = cons, order = c(5, 0, 0), seasonal = c(1, 0, 0, period = 7), xreg = cbind(dados[-c(356:365)]$temp_max, dados[-c(356:365)]$fim_semana), transform.pars = F, fixed = c(0,0,NA,0,NA, NA,NA,NA, NA))
modelo3
acf(modelo3$res)
pacf(modelo3$res)
acf(modelo3$res)
predict(modelo3, newxreg = cbind(dados[c(364, 365)]$temp_max, dados[c(364, 365)]$fim_semana))
predict(modelo3, newxreg = cbind(dados[c(356:365)]$temp_max, dados[c(356:365)]$fim_semana))
dados$consumo[c(364, 365)] - predict(modelo3, newxreg = cbind(dados[c(356:365)]$temp_max, dados[c(356:365)]$fim_semana))$pred
mean((dados$consumo[c(364, 365)] - predict(modelo3, newxreg = cbind(dados[c(356:365)]$temp_max, dados[c(356:365)]$fim_semana))$pred)^2)
mean((dados$consumo[c(356:365)] - predict(modelo2, n.ahead = 10)$pred)^2)
mean((dados$consumo[c(356: 365)] - predict(modelo, newdata = xreg))^2)
install.packages("dlm")
library(dlm)
library(dlm)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
AIC(modelo)
plot(modelo)
#The second model is a time series model using arima
acf(dados$consumo)
pacf(dados$consumo)
#The second model is a time series model using arima
acf(dados$consumo)
modelo <- arima(dados$consumo, c(1,0,1), seasonal = list(order = c(0,0,1), period = 7))
modelo
modelo <- arima(dados$consumo, c(1,0,1), seasonal = list(order = c(1,0,0), period = 7))
modelo
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,0), period = 7))
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
ccf(dados$consumo, dados$temp_med)
ccf(cbind(dados$consumo, dados$temp_med))
?ccf
ccf(dados$consumo, dados$temp_med)
ccf(as.numeric(dados$consumo), dados$temp_med)
ccf(as.numeric(dados$consumo), as.numeric(dados$temp_med))
dados$consumo
dados$temp_med
dados <- fread("Consumo_cerveja.csv", dec = ",")
dados
dados <- fread("Consumo_cerveja.csv", dec = ",")
dados <- fread(file = "Consumo_cerveja.csv", dec = ",")
dados <- fread(file = "Consumo_cerveja.csv")
dados
setwd("/home/ze/Área de Trabalho/Bases de dados/consumo/")
dados <- fread(file = "Consumo_cerveja.csv", dec = ",")
dados <- fread(file = "Consumo_cerveja.csv", dec = ",")
dados <- fread(file = "Consumo_cerveja.csv", dec = ",")
dados <- fread(file = "Consumo_cerveja.csv", dec = ",", sep = ",")
dados <- fread(file = "Consumo_cerveja.dif", dec = ",")
dados
dados <- fread(file = "Consumo_cerveja.csv", dec = ",")
dados <- fread(file = "Consumo_cerveja.csv")
dados
str(dados)
dados
setwd("/home/ze/Área de Trabalho/Bases de dados/consumo/")
load(".RData")
dados
write.csv(dados, file = "Consumo_cerveja.csv")
dados <- fread(file = "Consumo_cerveja.csv")
dados
write.csv(dados, file = "Consumo_cerveja.csv", row.names = F)
dados <- fread(file = "Consumo_cerveja.csv")
dados
dados <- dados[,-1]
dados
ggplot(dados, aes(x = as.Date(Data), y = consumo)) + geom_line(color = "darkblue") + scale_x_date(labels = date_format("%b"))
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
AIC(modelo)
plot(modelo)
#The second model is a time series model using arima and i am not using the covariates temperature
acf(dados$consumo)
pacf(dados$consumo)
ccf(as.numeric(dados$consumo), as.numeric(dados$temp_med))
ccf(dados$consumo, dados$temp_med)
cor(dados$consumo, dados$temp_med)
cor(dados$consumo, dados$temp_max)
cor(dados$consumo, dados$temp_med, method = "spearman")
cor(dados$consumo, dados$temp_min)
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,0), period = 7))
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,1,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,1,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(0,0,1), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
install.packages("forecast")
library(forecast)
?stl
stl(dados$consumo, s.window = 7)
stl(dados$consumo, s.window = 1)
stl(dados$consumo, "periodic")
adf.test(dados$)
adf.test(dados$consumo)
library(tseries)
library(tseries)
adf.test(dados$consumo)
adf.test(dados$consumo)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
AIC(modelo)
plot(modelo)
#The second model is a time series model using arima and i am not using the covariates temperature
acf(dados$consumo)
pacf(dados$consumo)
ccf(dados$consumo, dados$temp_med)
ccf(dados$consumo, dados$temp_max)
ccf(dados$consumo, dados$temp_max)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max)
modelo <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo
acf(modelo$residuals)
pacf(modelo$residuals)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
AIC(modelo)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(2,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(2,0,0), seasonal = list(order = c(0,1,0), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(2,0,0), seasonal = list(order = c(11111111111111111111111111111111111111111111111111111111111,0,0), period = 7), xreg = dados$temp_max)
modelo2
modelo2 <- arima(dados$consumo, c(2,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo2
modelo2 <- arima(dados$consumo, c(2,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo2
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
AIC(modelo)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = dados$temp_max)
modelo2
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max)
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(3,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max, transform.pars = F, fixed = c(0,0,NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(3,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max, transform.pars = F, fixed = c(0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max, transform.pars = F, fixed = c(NA,NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max, transform.pars = F, fixed = c(0,0,NA,NA,NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max, transform.pars = F, fixed = c(0,0,NA,NA,NA,NA,NA))
modelo2
modelo2 <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,1), period = 7), xreg = dados$temp_max, transform.pars = F, fixed = c(0,0,NA,NA,NA,NA,NA))
modelo2
dados
dados
dados$temp_max
dados
fim_semana <- rep(c(0,1,1,1,0,0,0), 52)
fim_semana <- c(rep(c(0,1,1,1,0,0,0), 52), 0)
dados[, fim_semana := fim_semana]
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
AIC(modelo)
plot(modelo)
#The second model is a time series model using arima and i am not using the covariates temperature
acf(dados$consumo)
pacf(dados$consumo)
cor(dados$consumo, dados$temp_med)
cor(dados$consumo, dados$temp_max)
cor(dados$consumo, dados$temp_min)
ccf(dados$consumo, dados$temp_max)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana))
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(0,0,NA,NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(1,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(NA,NA,NA,NA,NA))
modelo2
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(NA,NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(1,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(NA,NA,NA,NA))
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
AIC(modelo)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(NA,NA,NA,NA))
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(NA,NA,NA))
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(3,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(0,0,NA,NA,NA,NA))
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
AIC(modelo)
modelo2 <- arima(dados$consumo, c(5,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(0,0,NA,0,NA,NA,NA,NA))
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
acf(modelo2$residuals)
pacf(modelo2$residuals)
AIC(modelo)
modelo2 <- arima(dados$consumo, c(7,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(0,0,NA,0,0,NA,NA,NA,NA,NA))
modelo2
acf(modelo2$residuals)
modelo2 <- arima(dados$consumo, c(7,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = cbind(dados$temp_max, dados$fim_semana), transform.pars = F, fixed = c(0,0,NA,0,NA,0,NA,NA,NA,NA))
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
AIC(modelo)
modelo2 <- arima(dados$consumo, c(0,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = data.table(temp_max = dados$temp_max, fim_semana = dados$fim_semana))
modelo2
modelo2 <- arima(dados$consumo, c(7,0,0), seasonal = list(order = c(0,0,0), period = 7), xreg = data.table(temp_max = dados$temp_max, fim_semana = dados$fim_semana), transform.pars = F, fixed = c(0,0,NA,0,NA,0,NA,NA,NA,NA))
modelo2
modelo2
acf(modelo2$residuals)
pacf(modelo2$residuals)
modelo$model
AIC(modelo)
AIC(modelo2)
BIC(modelo)
BIC(modelo2)
summary(modelo)
viernes <- c(rep(c(0,1,0,0,0,0,0), 52), 0)
sabado <- c(rep(c(0,0,1,0,0,0,0), 52), 0)
domingo <- c(rep(c(0,0,0,1,0,0,0), 52), 0)
dados[, viernes := viernes]
dados[, sabado := sabado]
dados[, domingo := domingo]
modelo <- lm(consumo ~ temp_max + viernes + sabado + domingo, data = dados)
summary(modelo)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
modelo <- lm(consumo ~ temp_max + viernes + sabado + domingo, data = dados)
summary(modelo)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
modelo <- lm(consumo ~ temp_max  + sabado + domingo, data = dados)
summary(modelo)
AIC(modelo)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
jueves <- c(rep(c(1,0,0,0,0,0,0), 52), 0)
dados[, jueves := jueves]
modelo <- lm(consumo ~ temp_max + jueves + sabado + domingo, data = dados)
summary(modelo)
AIC(modelo)
plot(modelo)
jueves <- c(rep(c(0,0,0,0,1,0,0), 52), 0)
dados[, lunes := lunes]
lunes <- c(rep(c(0,0,0,0,1,0,0), 52), 0)
dados[, lunes := lunes]
modelo <- lm(consumo ~ temp_max + lunes + sabado + domingo, data = dados)
summary(modelo)
sabado <- c(rep(c(0,0,1,0,0,0,0), 52), 0)
dados[, sabado := sabado]
domingo <- c(rep(c(0,0,0,1,0,0,0), 52), 0)
dados[, domingo := domingo]
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
AIC(modelo)
plot(modelo)
BIC(modelo)
modelo <- lm(consumo ~ temp_max + lunes + sabado + domingo, data = dados)
summary(modelo)
BIC(modelo)
lunes <- c(rep(c(0,0,0,0,1,0,0), 52), 0)
dados[, lunes := lunes]
martes <- c(rep(c(0,0,0,0,0,1,0), 52), 0)
dados[, martes := martes]
miercoles <- c(rep(c(0,0,0,0,0,0,1), 52), 0)
dados[, miercoles := miercoles]
jueves <- c(rep(c(1,0,0,0,0,0,0), 52), 1)
dados[, jueves := jueves]
viernes <- c(rep(c(0,1,0,0,0,0,0), 52), 0)
dados[, viernes := viernes]
sabado <- c(rep(c(0,0,1,0,0,0,0), 52), 0)
dados[, sabado := sabado]
domingo <- c(rep(c(0,0,0,1,0,0,0), 52), 0)
dados[, domingo := domingo]
modelo <- lm(consumo ~ temp_max + lunes + martes + miercoles + jueves + viernes + sábado + domingo, data = dados)
modelo <- lm(consumo ~ temp_max + lunes + martes + miercoles + jueves + viernes + sabado + domingo, data = dados)
summary(modelo)
BIC(modelo)
plot(modelo)
modelo <- lm(consumo ~ temp_max + fim_semana, data = dados)
summary(modelo)
BIC(modelo)
modelo <- lm(consumo ~ temp_max + lunes + martes + miercoles + jueves + viernes + sabado + domingo, data = dados)
summary(modelo)
BIC(modelo)
plot(modelo)
#Read the data
setwd("/home/ze/Área de Trabalho/Bases de dados/Crimes Boston/crimesBoston/")
q()
